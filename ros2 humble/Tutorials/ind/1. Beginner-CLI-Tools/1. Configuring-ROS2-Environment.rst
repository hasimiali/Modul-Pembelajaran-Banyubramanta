.. _ConfigROS2:

Configuring environment
=======================

**Goal:** This tutorial will show you how to prepare your ROS 2 environment.

**Tutorial level:** Beginner

**Time:** 5 minutes

.. contents:: Contents
   :depth: 2
   :local:

Background
----------

ROS 2 mengandalkan gagasan menggabungkan ruang kerja menggunakan lingkungan shell.
"Ruang Kerja" adalah istilah ROS untuk lokasi di sistem tempat Anda mengembangkan dengan ROS 2.
Ruang kerja inti ROS 2 disebut underlay.
Ruang kerja lokal selanjutnya disebut overlay.
Saat mengembangkan dengan ROS 2, Anda biasanya akan memiliki beberapa ruang kerja yang aktif secara bersamaan.

Menggabungkan ruang kerja membuat pengembangan terhadap versi ROS 2 yang berbeda, atau terhadap kumpulan paket yang berbeda, menjadi lebih mudah.
Ini juga memungkinkan pemasangan beberapa distribusi ROS 2 (atau "distro", misalnya Dashing dan Eloquent) pada komputer yang sama dan beralih di antaranya.

Ini dilakukan dengan mengambil file setup setiap kali Anda membuka shell baru, atau dengan menambahkan perintah source ke skrip startup shell Anda satu kali.
Tanpa sumber file setup, Anda tidak akan dapat mengakses perintah ROS 2, atau menemukan atau menggunakan paket ROS 2.
Dengan kata lain, Anda tidak akan dapat menggunakan ROS 2.

Prerequisites
-------------

Sebelum memulai tutorial ini, instal ROS 2 dengan mengikuti petunjuk di halaman ROS 2 :doc:`../../Installation`.

Perintah yang digunakan dalam tutorial ini menganggap Anda mengikuti panduan instalasi paket biner untuk sistem operasi Anda (paket Debian untuk Linux).
Anda masih dapat mengikuti jika Anda membuat dari sumber, tetapi jalur ke file penyiapan Anda kemungkinan akan berbeda.
Anda juga tidak akan dapat menggunakan perintah ``sudo apt install ros-<distro>-<package>`` (sering digunakan dalam tutorial tingkat pemula) jika Anda menginstal dari sumber.

Jika Anda menggunakan Linux atau macOS, tetapi belum terbiasa dengan shell, `tutorial ini <http://www.ee.surrey.ac.uk/Teaching/Unix/>`__ akan membantu.
Tasks
-----

1 Source the setup files
^^^^^^^^^^^^^^^^^^^^^^^^

Anda harus menjalankan perintah ini di setiap shell baru yang Anda buka untuk mengakses perintah ROS 2, seperti:
.. code-block:: console

    # Replace ".bash" with your shell if you're not using bash
    # Possible values are: setup.bash, setup.sh, setup.zsh
    source /opt/ros/{DISTRO}/setup.bash

.. note::
    Perintah yang tepat tergantung di mana Anda menginstal ROS 2.
    Jika Anda mengalami masalah, pastikan jalur file mengarah ke instalasi Anda.

2 Add sourcing to your shell startup script
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Jika Anda tidak ingin sumber file setup setiap kali Anda membuka shell baru (melewati tugas 1), maka Anda dapat menambahkan perintah ke skrip startup shell Anda:

.. code-block:: console

    echo "source /opt/ros/{DISTRO}/setup.bash" >> ~/.bashrc

    # To undo this, locate your system's shell startup script and remove the appended source command.

3 Check environment variables
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Sourcing file setup ROS 2 akan menetapkan beberapa variabel lingkungan yang diperlukan untuk mengoperasikan ROS 2.
Jika Anda mengalami masalah dalam menemukan atau menggunakan paket ROS 2, pastikan lingkungan Anda diatur dengan benar menggunakan perintah berikut:

.. code-block:: console

    printenv | grep -i ROS


Check that variables like ``ROS_DISTRO`` and ``ROS_VERSION`` are set.

::

  ROS_VERSION=2
  ROS_PYTHON_VERSION=3
  ROS_DISTRO={DISTRO}

Jika variabel lingkungan tidak diatur dengan benar, kembali ke bagian penginstalan paket ROS 2 dari panduan penginstalan yang Anda ikuti.
Jika Anda memerlukan bantuan yang lebih spesifik (karena file pengaturan lingkungan dapat berasal dari tempat yang berbeda), Anda dapat `mendapatkan jawaban <https://answers.ros.org>`__ dari komunitas.

3.1 The ``ROS_DOMAIN_ID`` variable
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Lihat artikel `ID domain <../../Concepts/Intermediate/About-Domain-ID>` untuk detail tentang ID domain ROS.

Setelah Anda menentukan bilangan bulat unik untuk grup node ROS 2 Anda, Anda dapat mengatur variabel lingkungan dengan perintah berikut:

.. code-block:: console
  
    export ROS_DOMAIN_ID=<your_domain_id>

    # To maintain this setting between shell sessions, you can add the command to your shell startup script:

    echo "export ROS_DOMAIN_ID=<your_domain_id>" >> ~/.bashrc


3.2 The ``ROS_AUTOMATIC_DISCOVERY_RANGE`` variable
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Secara default, komunikasi ROS 2 tidak terbatas pada localhost.
Variabel lingkungan ``ROS_AUTOMATIC_DISCOVERY_RANGE`` memungkinkan Anda membatasi rentang penemuan ROS 2.
Menggunakan ``ROS_AUTOMATIC_DISCOVERY_RANGE`` berguna dalam pengaturan tertentu, seperti ruang kelas, di mana beberapa robot dapat menerbitkan topik yang sama yang menyebabkan perilaku aneh.
Lihat :ref:`Improved Dynamic Discovery <ImprovedDynamicDiscovery>` untuk detail lebih lanjut.

Summary
-------

Lingkungan pengembangan ROS 2 perlu dikonfigurasi dengan benar sebelum digunakan.
Ini dapat dilakukan dengan dua cara: mencari file setup di setiap shell baru yang Anda buka, atau menambahkan perintah source ke skrip startup Anda.

Jika Anda pernah menghadapi masalah dalam menemukan atau menggunakan paket dengan ROS 2, hal pertama yang harus Anda lakukan adalah memeriksa variabel lingkungan Anda dan memastikannya disetel ke versi dan distro yang Anda inginkan.

Next steps
----------

Sekarang setelah Anda memiliki penginstalan ROS 2 yang berfungsi dan Anda tahu cara mendapatkan file pengaturannya, Anda dapat mulai mempelajari seluk beluk ROS 2 dengan :doc:`turtlesim tool <./Introducing-Turtlesim/Introducing-Turtlesim>` .